load("//src/codegen/cloudcoil:python_codegen_rule.bzl", "python_codegen")
load("//schemas/crds:crd_codegen_groups.bzl", "crd_codegen_from_tree")

ALL_CRDS = glob(["**/*.yaml", "**/*.yml"])

GENERATORS = crd_codegen_from_tree(
    name_prefix = "gen",
    srcs = ALL_CRDS,
    namespace_prefix = "generated.models",
)

filegroup(
    name = "generated_srcs",
    srcs = GENERATORS,
    visibility = ["PUBLIC"],
)
